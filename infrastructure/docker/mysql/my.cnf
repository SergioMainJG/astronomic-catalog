[mysqld]
# --- RED Y COMPATIBILIDAD ---
# Deja que Docker maneje los puertos y sockets. Solo define el bind-address.
bind-address = 0.0.0.0

# OJO: mysql_native_password está depreciado/eliminado en MySQL 8.4+ y 9.0.
# Si usas mysql:latest, es mejor usar el nuevo estándar o eliminar esta línea.
# authentication_policy = mysql_native_password  <-- Solo si es estrictamente necesario

# --- CARACTERES ---
character-set-server = utf8mb4
collation-server     = utf8mb4_unicode_ci

# --- RENDIMIENTO (InnoDB) ---
default-storage-engine = InnoDB
innodb_buffer_pool_size = 256M
innodb_log_file_size    = 64M

# --- LOGS Y MONITOREO ---
performance_schema = ON
log_error = /var/log/mysql/error.log
slow_query_log = 1
slow_query_log_file = /var/log/mysql/mysql-slow.log
long_query_time = 2

[client]
default-character-set = utf8mb4

[mysql]
default-character-set = utf8mb4